{% extends "base.html" %}

{% block main_content %}
    <div class="tag-cloud">
        {% block title %}
            {{ post_macros::page_header(title="Tags") }}
        {% endblock title %}

        <main class="list">
            <ul class="tags">
                {% set sort_by = config.extra.taxonomies.sort_by | default(value="name") %}
                {% set terms = terms | default(value=[]) | sort(attribute=sort_by) %}

                {% if config.extra.taxonomies.reverse | default(value=false) %}
                    {% set terms = terms | reverse %}
                {% endif %}

                {% for term in terms %}
                    <li>
                        <a href="{{ term.permalink | safe }}">
                            {{ term.name }} ({{ term.pages | length }} post{{ term.pages | length | pluralize }})
                        </a>
                    </li>
                {% endfor %}
            </ul>
        </main>
    </div>
{% endblock main_content %}
